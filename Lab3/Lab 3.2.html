<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="Data Visualization"/>
    <meta name="keywords" content="HTML, CSS, D3"/>
    <meta name="author" content="Yadanar Theint"/>
    <title>Task 3.1 D3 Scaling your Charts</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style/style.css">
    
    <nav>
        <a href="Main.html" class="button1">Main Page</a>
        <a href="lab 2.1.html" class="button1">Lab 2.1</a>
        <a href="lab2.2.html" class="button2">Lab 2.2</a>
        <a href="lab2.3.html" class="button3">Lab 2.3</a>
        <a href="lab2.4.html" class="button4">Lab 2.4</a>
    </nav>
</head>

<body>
    <h1>Drawing with Data - Scatter Plot</h1>
    <script>
        // Set dimensions for SVG
        var w = 600;
        var h = 400; // Increased height for better y-axis visibility
        var padding = 50; // Increased padding for axes and labels

        // Dataset representing coordinates x, y for each point
        var dataset = [
            [44, 20, 5],
            [480, 90, 10],
            [250, 50, 3],
            [160, 33, 8],
            [330, 95, 9],
            [410, 12, 12],
            [475, 44, 4],
            [120, 67, 6],
            [85, 21, 10],
            [220, 88, 5],
        ];

        // Create scale elements
        var xScale = d3.scaleLinear()
            .domain([d3.min(dataset, function(d) { return d[0]; }) - 10, d3.max(dataset, function(d) { return d[0]; }) + 20]) // Extend domain
            .range([padding, w - padding]);

        var yScale = d3.scaleLinear()
            .domain([d3.min(dataset, function(d) { return d[1]; }) - 10, d3.max(dataset, function(d) { return d[1]; }) + 10]) // Extend domain
            .range([h - padding, padding]); // Adjusted range for yScale

        // Create SVG element & its dimensions
        var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

        // Draw circles for each data point
        svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr("cx", function(d) { return xScale(d[0]); })
            .attr("cy", function(d) { return yScale(d[1]); })
            .attr("r", function(d) { return Math.sqrt(d[2] / Math.PI); }) // Set radius based on the third value
            .attr("fill", "blue"); // Set fill color circle (blue color)

        // Display text labels for each data point
        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d) { return d[0] + "," + d[1]; }) // Display coordinates as text
            .attr("x", function(d) { return xScale(d[0]) + 5; }) // Offset text slightly from the circle
            .attr("y", function(d) { return yScale(d[1]) - 5; }) // Offset text slightly from the circle
            .attr("font-family", "sans-serif")
            .attr("font-size", "11px")
            .attr("fill", "red"); // Set text color 

        // Create x-axis
        svg.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + (h - padding) + ")")
            .call(d3.axisBottom(xScale).ticks(10)); // Number of ticks can be adjusted

        // Create y-axis
        svg.append("g")
            .attr("class", "y axis")
            .attr("transform", "translate(" + padding + ", 0)")
            .call(d3.axisLeft(yScale).ticks(5)); // Number of ticks can be adjusted
    </script>

    <footer>
        COS30045 Data Visualization<br>
        Yadanar Theint
    </footer>
</body>
</html>
